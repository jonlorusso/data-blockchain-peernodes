modelVersion: 4.0.0

name: swatt-blockchain-data
artifactId: blockchain-data
packaging: jar

parent: {artifactId: swatt-parent, groupId: com.swatt, version: ${CURRENT.SWATT.VERSION}}

properties: {mainClass: com.swatt.blockchain.Main}

build:
  plugins:
  - {artifactId: maven-compiler-plugin, extensions: false, groupId: org.apache.maven.plugins, inherited: true}
  - artifactId: maven-dependency-plugin
    executions:
    - configuration: {outputDirectory: '${project.build.directory}/lib', overWriteReleases: 'false', overWriteSnapshots: 'false', overWriteIfNewer: 'true'}
      goals: [copy-dependencies]
      id: copy-dependencies
      inherited: true
      phase: package
      priority: 0
    extensions: false
    groupId: org.apache.maven.plugins
    inherited: true
    version: ${maven.dependency.plugin.version}
  - artifactId: dockerfile-maven-plugin
    configuration:
      repository: docker.dev.ruvpfs.swatt.exchange/ingestor-blocks
      tag: ${project.version}
      useMavenSettingsForAuth: true
      buildArgs: {JAR_FILE: '${project.build.finalName}.jar'}
    executions:
    - goals: [build, push]
      id: default
      inherited: true
      priority: 0
    extensions: false
    groupId: com.spotify
    inherited: true
    version: ${dockerfile.maven.plugin.version}
  - artifactId: maven-jar-plugin
    configuration:
      archive:
        manifest: {addClasspath: 'true', classpathPrefix: ./lib/, useUniqueVersions: 'false', mainClass: '${mainClass}'}
    extensions: false
    inherited: true

dependencies:
- {artifactId: swatt-common, groupId: com.swatt, optional: false, type: jar, version: ${CURRENT.SWATT.VERSION}}
- {artifactId: javalin, groupId: io.javalin, optional: false, type: jar, version: 1.3.0}
- {artifactId: slf4j-api, groupId: org.slf4j, optional: false, type: jar, version: 1.7.7}
- {artifactId: slf4j-log4j12, groupId: org.slf4j, optional: false, type: jar, version: 1.7.7}
- {artifactId: mysql-connector-java, groupId: mysql, optional: false, type: jar, version: 8.0.11}
- {artifactId: json-simple, groupId: com.googlecode.json-simple, optional: false, type: jar, version: 1.1.1}
- {artifactId: jsonrpc4j, groupId: com.github.briandilley.jsonrpc4j, optional: false, type: jar, version: 1.5.3}
- {artifactId: core, groupId: org.web3j, optional: false, type: jar, version: 3.3.1}
- {artifactId: jsonrpc2-base, groupId: com.thetransactioncompany, optional: false, type: jar, version: 1.38.1}
- {artifactId: steemj-core, groupId: eu.bittrade.libs, optional: false, type: jar, version: 0.4.3}
- {artifactId: httpclient, groupId: org.apache.httpcomponents, optional: false, type: jar, version: 4.5.5}
- {artifactId: jeromq, groupId: org.zeromq, optional: false, type: jar, version: 0.4.3}
- {artifactId: junit-jupiter-engine, groupId: org.junit.jupiter, optional: false, type: jar, version: 5.0.0-M1}
- {artifactId: bcpkix-jdk15on, groupId: org.bouncycastle, optional: false, type: jar, version: '1.56'}
- {artifactId: jackson-databind, groupId: com.fasterxml.jackson.core, optional: false, type: jar, version: 2.8.5}
- {artifactId: javax.persistence-api, groupId: javax.persistence, optional: false, type: jar, version: '2.2'}
- {artifactId: guava, groupId: com.google.guava, optional: false, type: jar, version: 24.1-jre}
- {artifactId: mockito-core, groupId: org.mockito, optional: false, scope: test, type: jar, version: 2.18.3}
